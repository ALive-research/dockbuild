
build-settings: &build-settings
  machine: true

jobs:
  centos6:
    <<: *build-settings
    steps:
      - checkout
      - run:
         name: centos6 build
         command: |
           docker pull centos:6
           make centos6
  centos7:
    <<: *build-settings
    steps:
      - checkout
      - run:
         name: centos7 build
         command: |
           docker pull centos:7
           make centos7

workflows:
  version: 2
  build-test-deploy:
    jobs:
      - centos6
      - centos7
